[#]: subject: "CVE-2024-3094: Urgent alert for Fedora Linux 40 and Rawhide users"
[#]: via: "https://fedoramagazine.org/cve-2024-3094-security-alert-f40-rawhide/"
[#]: author: "Justin W. Flory https://fedoramagazine.org/author/jflory7/"
[#]: collector: "lujun9972/lctt-scripts-1705972010"
[#]: translator: " "
[#]: reviewer: " "
[#]: publisher: " "
[#]: url: " "

CVE-2024-3094: Urgent alert for Fedora Linux 40 and Rawhide users
======

![A generic blue background appears with the text written, "CVE-2024-3094: Urgent alert for F40 & Rawhide users." The logo of the Tukaani project appears toward the top. The logo is commonly associated with the xz project.][1]

Created by Justin W. Flory. CC BY-SA 4.0. Bob the Toucan used under fair use from the Tukaani project.

The Fedora Project was made aware of CVE-2024-3094 on Friday, March 29th related to the _xz_ tools and libraries. At this time, Fedora Rawhide users are likely to have received the tainted package and Fedora Linux 40 Beta users may have received the package if they opted into updating from testing repositories. Fedora Linux 40 Beta users only using stable repositories are NOT impacted. Fedora Linux 39 and 38 users are also NOT impacted.

**PLEASE IMMEDIATELY STOP USAGE FEDORA RAWHIDE** for work or personal activity. Fedora Rawhide will be reverted to _xz-5.4.x_ shortly, and once that is done, Fedora Rawhide instances can safely be redeployed. _As a reminder,[Fedora Rawhide][2] is the development distribution of Fedora Linux, and serves as the basis for future Fedora Linux builds (in this case, the yet-to-be-released Fedora Linux 41)._

### CVE-2024-3094 highlights

[Red Hat Product Security][3] published this description of the recently-discovered vulnerability:

> Malicious code was discovered in the upstream tarballs of _xz_ , starting with version 5.6.0. Through a series of complex obfuscations, the _liblzma_ build process extracts a prebuilt object file from a disguised test file existing in the source code, which is then used to modify specific functions in the _liblzma_ code. This results in a modified _liblzma_ library that can be used by any software linked against this library, intercepting and modifying the data interaction with this library.
>
> <https://access.redhat.com/security/cve/CVE-2024-3094>

A detailed update history of the _xz_ package across all currently-supported Fedora/EPEL branches is available [on Fedora Bodhi][4]. While the malicious update was never sent to Fedora Linux 40 Beta stable repositories, Fedora Linux 40 Beta users may have received it from the testing repositories, which are enabled by default in pre-release versions to assist with testing.

Fedora Linux 40 Beta users can mitigate this vulnerability now. The downgraded version is now in the [Fedora Linux 40 testing repositories][5], so if you update now, you get the downgraded one from the testing repositories. It will synced to stable repositories and new ISO images soon. (If the package is not shown in a _dnf upgrade_ , some users report _dnf distro-sync_ as correctly pulling in the downgraded package.)

An extended discussion [on the oss-security mailing list][6] provides more detail about the nature of the attack and how it was initially discovered. More information about this vulnerability can also be found [on the Red Hat Blog][7].

### Thank you first responders!

Fedora has a reputation on being [First][8], but it would not be possible without the [Friends][9] who make it possible. It is difficult to predict when news like this may land. Many Fedora contributors have also already gone on vacation for the upcoming holiday weekend. We appreciate the hours that many have already put in and continue putting in to address this problem and ultimately protect Fedora users from malicious software. Thanks to the timely and prompt action by our packaging and infrastructure community, all users running on stable update channels only were **NOT** impacted by this vulnerability.

Special recognition goes out to our Fedora Infrastructure Team for coordinating these prompt and timely actions to reduce end-user impact. We could not do it without you!

As a reflection on the upcoming release of Fedora Linux 40, there remains a lot of uncertainty about this exploit. It appears to be a sophisticated breach of trust that may have taken place over an extended period of time. Fedora Linux 40 is around the corner, which is also distinguished from other Fedora releases because Fedora Linux 40 is the branch point for CentOS Stream 10, the next major version of Enterprise Linux. **Therefore, if this exploit had been discovered even two or three months later, this vulnerability would also have impacted downstream builds from Fedora and CentOS Stream** , including Red Hat Enterprise Linux (RHEL), AlmaLinux, Rocky Linux, Amazon Linux, Oracle Linux, and others.

The prompt actions of our Fedora community first responders and Infrastructure Team are an example of our community working at its best. Thanks for helping keep the Fedora user community safe.

### Get in touch about CVE-2024-3094

This is an emerging story and there will be more news and updates about this vulnerability to the _xz_ package set. You can follow your usual channels for updates on security vulnerabilities. You can also reach out to the Fedora developer community [on the devel mailing list][10] or [#devel:fedoraproject.org on Matrix][11].

--------------------------------------------------------------------------------

via: https://fedoramagazine.org/cve-2024-3094-security-alert-f40-rawhide/

作者：[Justin W. Flory][a]
选题：[lujun9972][b]
译者：[译者ID](https://github.com/译者ID)
校对：[校对者ID](https://github.com/校对者ID)

本文由 [LCTT](https://github.com/LCTT/TranslateProject) 原创编译，[Linux中国](https://linux.cn/) 荣誉推出

[a]: https://fedoramagazine.org/author/jflory7/
[b]: https://github.com/lujun9972
[1]: https://fedoramagazine.org/wp-content/uploads/2024/03/cve-2024-3094-security-alert-f40-rawhide-816x345.png
[2]: https://docs.fedoraproject.org/en-US/releases/rawhide/
[3]: https://access.redhat.com/security/cve/CVE-2024-3094
[4]: https://bodhi.fedoraproject.org/updates/?packages=xz
[5]: https://bodhi.fedoraproject.org/updates/FEDORA-2024-d02c7bb266
[6]: https://www.openwall.com/lists/oss-security/2024/03/29/4
[7]: https://www.redhat.com/en/blog/urgent-security-alert-fedora-41-and-rawhide-users
[8]: https://docs.fedoraproject.org/en-US/project/#_first
[9]: https://docs.fedoraproject.org/en-US/project/#_friends
[10]: https://lists.fedoraproject.org/archives/list/devel@lists.fedoraproject.org/
[11]: https://matrix.to/#/#devel:fedoraproject.org
